{% extends "base.html" %}

{% block title %}ุงููุณุงุนุฏ ุงูุฐูู - ููุตุฉ ุฃููุณ{% endblock %}

{% block content %}
<!-- Header Section -->
<section class="bg-gradient-to-r from-purple-500 to-pink-500 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
            <i class="fas fa-robot ml-4"></i>
            ุงููุณุงุนุฏ ุงูุฐูู ุงูุฏุงุนู
        </h1>
        <p class="text-xl text-purple-100 max-w-2xl mx-auto">
            ุชุญุฏุซ ูุน ุฑููููุง ุงูุฐูู ุงูุฏุงุนู ููุญุตูู ุนูู ุงูุฏุนู ุงูุนุงุทูู ุงูููุฑู ูุงุณุชุฑุงุชูุฌูุงุช ุงูุชุฃููู ุงููููุฏุฉ
        </p>
    </div>
</section>

<!-- Chat Interface -->
<section class="py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
            <!-- Chat Header -->
            <div class="bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white">
                <div class="flex items-center">
                    <div class="bg-white bg-opacity-20 rounded-full p-3 ml-4">
                        <i class="fas fa-robot text-2xl"></i>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold">ูุณุงุนุฏ ุฃููุณ ุงูุฏุงุนู</h2>
                        <p class="text-purple-100">ุฃูุง ููุง ููุงุณุชูุงุน ูุงููุณุงุนุฏุฉ ๐ธ</p>
                    </div>
                    <div class="mr-auto">
                        <div class="flex items-center">
                            <div class="w-3 h-3 bg-green-400 rounded-full ml-2"></div>
                            <span class="text-sm">ูุชุตู</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Messages Area -->
            <div id="chat-messages" class="h-96 overflow-y-auto p-6 bg-gray-50">
                <!-- Welcome Message -->
                <div class="flex items-start mb-4">
                    <div class="bg-purple-100 rounded-full p-2 ml-3">
                        <i class="fas fa-robot text-purple-600"></i>
                    </div>
                    <div class="bg-white rounded-2xl rounded-tr-sm p-4 shadow-sm max-w-xs">
                        <p class="text-gray-800">ูุฑุญุจุงู! ุฃูุง ููุง ูุฏุนูู. ููู ุชุดุนุฑ ุงููููุ ููููู ูุดุงุฑูุฉ ูุง ูุฏูุฑ ูู ุฐูููุ ูุณุฃุจุฐู ูุตุงุฑู ุฌูุฏู ููุณุงุนุฏุชู. ๐ธ</p>
                    </div>
                </div>
            </div>

            <!-- Chat Input -->
            <div class="p-6 bg-white border-t">
                <form id="chat-form" class="flex space-x-4">
                    <div class="flex-1">
                        <input 
                            type="text" 
                            id="message-input" 
                            placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..." 
                            class="w-full px-4 py-3 border border-gray-300 rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            required
                        >
                    </div>
                    <button 
                        type="submit" 
                        class="bg-purple-500 text-white px-6 py-3 rounded-2xl hover:bg-purple-600 transition-colors shadow-lg hover:shadow-xl"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
                
                <!-- Quick Response Buttons -->
                <div class="mt-4 flex flex-wrap gap-2">
                    <button class="quick-response bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-200 transition-colors" data-message="ุฃุดุนุฑ ุจุงูุชูุชุฑ">
                        ุฃุดุนุฑ ุจุงูุชูุชุฑ
                    </button>
                    <button class="quick-response bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-200 transition-colors" data-message="ุฃุดุนุฑ ุจุงูุญุฒู">
                        ุฃุดุนุฑ ุจุงูุญุฒู
                    </button>
                    <button class="quick-response bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-200 transition-colors" data-message="ุฃุญุชุงุฌ ูุณุงุนุฏุฉ">
                        ุฃุญุชุงุฌ ูุณุงุนุฏุฉ
                    </button>
                    <button class="quick-response bg-gray-100 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-200 transition-colors" data-message="ููู ุญุงููุ">
                        ููู ุญุงููุ
                    </button>
                </div>
            </div>
        </div>

        <!-- Support Resources -->
        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white rounded-xl shadow-md p-6 text-center">
                <i class="fas fa-phone text-calm-blue text-3xl mb-3"></i>
                <h3 class="font-semibold text-gray-800 mb-2">ุฏุนู ุงูุฃุฒูุงุช</h3>
                <p class="text-gray-600 text-sm">ุฅุฐุง ููุช ูู ุถุงุฆูุฉ ููุฑูุฉุ ูุฑุฌู ุงูุงุชุตุงู ุจุฎุฏูุงุช ุงูุทูุงุฑุฆ ุฃู ุฎุท ุงููุณุงุนุฏุฉ.</p>
            </div>
            <div class="bg-white rounded-xl shadow-md p-6 text-center">
                <i class="fas fa-user-md text-calm-green text-3xl mb-3"></i>
                <h3 class="font-semibold text-gray-800 mb-2">ุงููุณุงุนุฏุฉ ุงูููููุฉ</h3>
                <p class="text-gray-600 text-sm">ููุฑ ูู ุงูุชูุงุตู ูุน ุฃุฎุตุงุฆู ุงูุตุญุฉ ุงูููุณูุฉ ููุญุตูู ุนูู ุฏุนู ูุณุชูุฑ.</p>
            </div>
            <div class="bg-white rounded-xl shadow-md p-6 text-center">
                <i class="fas fa-heart text-pink-500 text-3xl mb-3"></i>
                <h3 class="font-semibold text-gray-800 mb-2">ุงูุฑุนุงูุฉ ุงูุฐุงุชูุฉ</h3>
                <p class="text-gray-600 text-sm">ุชุฐูุฑ ุฃู ุชุนุชูู ุจููุณู ูู ุฎูุงู ุงูุนุงุฏุงุช ุงูุตุญูุฉ ูุงูุฃูุดุทุฉ ุงูุชู ุชุณุชูุชุน ุจูุง.</p>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const chatMessages = document.getElementById('chat-messages');
    const chatForm = document.getElementById('chat-form');
    const messageInput = document.getElementById('message-input');
    const quickResponseButtons = document.querySelectorAll('.quick-response');

    // Bot responses
    const botResponses = {
        'ุฃุดุนุฑ ุจุงูุชูุชุฑ': 'ุฃููู ุฃู ุงูุชูุชุฑ ูููู ุฃู ูููู ุณุงุญูุงู. ุฌุฑุจ ุฃุฎุฐ ุฃููุงุณ ุนูููุฉ - ุชููุณ ููุฏุฉ 4 ุนุฏุงุชุ ุงุญุจุณ ุงูููุณ ููุฏุฉ 4ุ ุซู ุฃุฎุฑุฌ ุงูููุณ ููุฏุฉ 6. ูุฏ ุชุฌุฏ ุฃูุถุงู ุฃูู ูู ุงููููุฏ ุฃุฎุฐ ูุฒูุฉ ูุตูุฑุฉ ุฃู ุงูุงุณุชูุงุน ุฅูู ููุณููู ูุงุฏุฆุฉ. ุชุฐูุฑุ ูุง ุจุฃุณ ูู ุฃุฎุฐ ุงุณุชุฑุงุญุงุช ุนูุฏูุง ุชุญุชุงุฌูุง. ๐ธ',
        'ุฃุดุนุฑ ุจุงูุญุฒู': 'ุฃูุง ุขุณู ูุฃูู ุชุดุนุฑ ุจุงูุญุฒู. ูู ุงูููู ุงูุงุนุชุฑุงู ุจูุดุงุนุฑู. ููุฑ ูู ุงูุชุญุฏุซ ูุน ุตุฏูู ููุซูู ุฃู ูุฑุฏ ูู ุงูุนุงุฆูุฉ ุญูู ูุง ุชุดุนุฑ ุจู. ุฃุญูุงูุงู ูุดุงุฑูุฉ ูุดุงุนุฑูุง ูููู ุฃู ุชุณุงุนุฏ ูู ุชุฎููู ุงูุนุจุก. ูุณุช ูุญุฏู ูู ูุฐุง. ๐',
        'ุฃุญุชุงุฌ ูุณุงุนุฏุฉ': 'ุฃูุง ููุง ูุฏุนูู. ุฅุฐุง ููุช ุชุดุนุฑ ุจุงูุฅุฑูุงูุ ูุฑุฌู ุงูุชูููุฑ ูู ุงูุชูุงุตู ูุน ุฃุฎุตุงุฆู ุงูุตุญุฉ ุงูููุณูุฉ ุฃู ูุณุชุดุงุฑ. ุงูุนุฏูุฏ ูู ุงููุฏุงุฑุณ ูุฏููุง ุฎุฏูุงุช ุงุณุชุดุงุฑูุฉ ูุชุงุญุฉ. ููููู ุฃูุถุงู ุชุฌุฑุจุฉ ุจุนุถ ุชูููุงุช ุงูุชุฃุฑูุถ ูุซู ุทุฑููุฉ 5-4-3-2-1: ุณู 5 ุฃุดูุงุก ููููู ุฑุคูุชูุงุ 4 ููููู ููุณูุงุ 3 ููููู ุณูุงุนูุงุ 2 ููููู ุดููุงุ ู1 ููููู ุชุฐูููุง. ๐ธ',
        'ููู ุญุงูู': 'ุฃูุง ุจุฎูุฑุ ุดูุฑุงู ูุณุคุงูู! ุฃูุง ููุง ููุณุชุนุฏ ููุงุณุชูุงุน ูุฏุนูู. ููู ุชุดุนุฑ ุงููููุ ูู ููุงู ุดูุก ูุญุฏุฏ ุชูุฏ ุงูุชุญุฏุซ ุนููุ ๐'
    };

    function addMessage(message, isUser = false) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `flex items-start mb-4 ${isUser ? 'justify-end' : ''}`;
        
        if (isUser) {
            messageDiv.innerHTML = `
                <div class="bg-purple-500 text-white rounded-2xl rounded-tr-sm p-4 shadow-sm max-w-xs">
                    <p>${message}</p>
                </div>
                <div class="bg-purple-100 rounded-full p-2 ml-3">
                    <i class="fas fa-user text-purple-600"></i>
                </div>
            `;
        } else {
            messageDiv.innerHTML = `
                <div class="bg-purple-100 rounded-full p-2 mr-3">
                    <i class="fas fa-robot text-purple-600"></i>
                </div>
                <div class="bg-white rounded-2xl rounded-tl-sm p-4 shadow-sm max-w-xs">
                    <p class="text-gray-800">${message}</p>
                </div>
            `;
        }
        
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function getBotResponse(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        // Check for exact matches first
        for (const [key, response] of Object.entries(botResponses)) {
            if (lowerMessage.includes(key)) {
                return response;
            }
        }
        
        // Default response
        return "ุฃูุง ููุง ูุฏุนูู. ุจูููุง ูุฏ ูุง ุฃููู ุฌููุน ุงูุฅุฌุงุจุงุชุ ุฃุฑูุฏู ุฃู ุชุนุฑู ุฃู ูุดุงุนุฑู ุตุญูุญุฉ ููููุฉ. ููุฑ ูู ุงูุชูุงุตู ูุน ุฃุตุฏูุงุก ููุซูููู ุฃู ุงูุนุงุฆูุฉ ุฃู ุฃุฎุตุงุฆู ุงูุตุญุฉ ุงูููุณูุฉ ุฅุฐุง ููุช ุชุญุชุงุฌ ุฏุนู ุฅุถุงูู. ูุณุช ูุญุฏู. ๐ธ";
    }

    // Handle form submission
    chatForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const message = messageInput.value.trim();
        if (message) {
            addMessage(message, true);
            messageInput.value = '';
            
            // Simulate typing delay
            setTimeout(() => {
                const response = getBotResponse(message);
                addMessage(response, false);
            }, 1000);
        }
    });

    // Handle quick response buttons
    quickResponseButtons.forEach(button => {
        button.addEventListener('click', function() {
            const message = this.dataset.message;
            messageInput.value = message;
            chatForm.dispatchEvent(new Event('submit'));
        });
    });
});
</script>
{% endblock %}
